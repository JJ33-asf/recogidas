{% set active = active or 'todas' %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>GLS Molina 2003 Recogidas</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body { font-family:'Poppins',sans-serif;background:radial-gradient(circle at 20% 30%,#0a162b 0%,#000000 90%);color:#e8f0ff;margin:0;}
    header {position:fixed;top:0;left:0;right:0;backdrop-filter:blur(10px);background:rgba(15,25,40,0.75);border-bottom:1px solid rgba(255,255,255,0.08);display:flex;align-items:center;justify-content:space-between;padding:0 40px;height:60px;z-index:50;}
    .menu{display:flex;gap:30px;}
    header a{color:#9fbfff;text-decoration:none;font-weight:600;transition:0.3s;padding:8px 14px;border-radius:8px;}
    header a:hover{color:#00e0ff;}
    header a.active{background:rgba(0,224,255,0.1);color:#00e0ff;box-shadow:0 0 10px rgba(0,224,255,0.2);}
    #clock{font-weight:600;font-size:14px;color:#00e0ff;letter-spacing:0.5px;}
    .container{max-width:1100px;margin:100px auto 60px;background:rgba(20,25,40,0.75);border:1px solid rgba(255,255,255,0.08);border-radius:20px;padding:24px;backdrop-filter:blur(14px);box-shadow:0 0 30px rgba(0,192,255,0.15);}
    table{width:100%;border-collapse:collapse;margin-top:10px;font-size:14px;}
    th,td{border-bottom:1px solid rgba(255,255,255,0.05);padding:10px;text-align:left;}
    th{color:#9fb2ff;}
    tr:hover{background:rgba(0,224,255,0.05);}
    .pill{display:inline-block;padding:4px 8px;border-radius:999px;background:rgba(0,224,255,0.12);border:1px solid rgba(0,224,255,0.25);color:#00e0ff;}
  </style>
</head>
<body>
  <header>
    <div class="menu">
      <a href="/" class="{% if active == 'buscar' %}active{% endif %}">üîç Buscar</a>
      <a href="/todas" class="{% if active == 'todas' %}active{% endif %}">üìã Todas</a>
    </div>
    <div id="clock">--:--:--</div>
  </header>

  <div class="container">
    <h2 style="font-weight:700;font-size:28px;color:#00e0ff;text-shadow:0 0 10px rgba(0,224,255,0.3);">
      GLS Molina 2003 Recogidas <small style="color:#9fbfff;font-weight:400;">({{ total }})</small>
    </h2>
    <table>
      <thead>
        <tr>
          <th>Cliente</th><th>Direcci√≥n</th><th>Poblaci√≥n</th><th>CP</th><th>Cod. Rep</th><th>Repartidor</th><th>Recogidas</th>
        </tr>
      </thead>
      <tbody>
        {% for r in rows %}
        <tr>
          <td>{{ r.nombre }}</td><td>{{ r.direccion }}</td><td>{{ r.poblacion }}</td><td>{{ r.cp }}</td><td><span class="pill">{{ r.cod_repartidor }}</span></td><td>{{ r.nombre_repartidor }}</td><td>{{ r.total }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <script>
    const clock=document.getElementById('clock');
    function updateClock(){
      const now=new Date();
      const days=["Domingo","Lunes","Martes","Mi√©rcoles","Jueves","Viernes","S√°bado"];
      clock.textContent=`${days[now.getDay()]}, ${now.toLocaleDateString('es-ES')} ‚Äî ${now.toLocaleTimeString('es-ES')}`;
    }
    setInterval(updateClock,1000);
    updateClock();
  </script>
</body>
</html>


